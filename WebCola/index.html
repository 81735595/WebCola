
<!DOCTYPE html>
<meta charset="utf-8">
<link rel="canonical" href="http://d3js.org/">
<title>WebCoLa: Constraint-based Layout in the Browser</title>
<style>

@import url(style.css);

#examples {
  width: 960px;
  height: 189px;
  margin-bottom: 2em;
}

.example img {
  float: left;
  margin-bottom: 13px;
  width: 226px;
  height: 180px;
  border: solid 2px #ccc;
}

.example:hover img {
  border-color: steelblue;
}

.example:not(:nth-child(4n)) img {
  margin-right: 13px;
}
    #left {
        float: right;
        width: 50%;
    }

    #right {
        margin-right: 50%;
    }

</style>

<div id="body">

<header>.
  <b><a href="./">Overview</a></b>
  <a style="margin-left:1em;" href="https://github.com/tgdwyer/WebCola/wiki/Gallery">Examples</a>
  <a style="margin-left:1em;" href="https://github.com/tgdwyer/WebCola/wiki">Documentation</a>
  <a style="margin-left:1em;" href="https://github.com/tgdwyer/WebCola">Source</a>
</header>

<h1>WebCoLa</h1>
<h2>Constraint-Based Layout in the Browser</h2>

<div id="examples"></div>

<script src="d3.v3.min.js?3.0.0rc1"></script>
<link rel="stylesheet" href="http://yandex.st/highlightjs/7.5/styles/default.min.css">
<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>
<script>
hljs.initHighlightingOnLoad();

var examples = [
    "downwardedges",
    "unconstrained", 
    "unconstrainedsmallworld", 
    "nonoverlapping", 
    "smallnonoverlappinggraph", 
    "modifyinggraph", 
    "onlinebrowse",
    "smallgroups", 
    "alignment"
];

function shuffle(array) {
  var m = array.length, t, i;

  // While there remain elements to shuffle.
  while (m) {

    // Pick a remaining element.
    i = Math.floor(Math.random() * m--);

    // And swap it with the current element.
    t = array[m];
    array[m] = array[i];
    array[i] = t;
  }

  return array;
}

d3.select("#examples").selectAll(".example")
    .data(shuffle(examples).slice(0, 8))
  .enter().append("a")
    .attr("class", "example")
    .attr("href", function(d) { return d + ".html"; })
  .append("img")
    .attr("src", function(d) { return d + ".png"; });

</script>

<!--<p><aside>See <a href="https://github.com/mbostock/d3/wiki/Gallery">more examples</a>.</aside>-->

<p><b>WebCola.js</b> is an <a href="https://github.com/tgdwyer/WebCola/blob/master/LICENSE">open-source</a> JavaScript library for arranging your HTML5 documents and diagrams using constraint-based optimization techniques.

<p>It works well with libraries like <a href="http://d3js.org">D3.js</a> and <a href="http://www.svgjs.com">svg.js</a>.
The core layout is based on a complete rewrite in Javascript of the C++ <a href="http://adaptagrams.org">libcola</a> library.</p>
    
<aside><p>
WebCoLa is developed by <br/><a href="http://marvl.infotech.monash.edu/~dwyer">Tim Dwyer</a> at the <a href="http://marvl.infotech.monash.edu">Monash Adaptive Visualisation Lab.
    <img src="http://marvl.infotech.monash.edu.au/wp-content/themes/marvl/marvl.png" width="155px" alt="MArVL Logo" /></a>
</p></aside>
<p>It has an adaptor for d3.js that allows you to use webcola as a drop-in replacement for the <a href="https://github.com/mbostock/d3/wiki/Force-Layout">D3 force layout</a>.
The layout converges to a local optimum unlike the D3 force layout, which forces convergence through a simple annealing strategy.  
Thus, compared to D3 force layout:
    <ul> 
        <li>CoLa achieves higher quality layout;</li>
        <li>is much more stable in interactive applications (no "jitter");</li>
        <li>it is less scalable to very large graphs.
    </ul>
However, it works well on an average machine on graphs with fewer than 100 nodes.
</p>
    <div id="left">
<pre><code>var cola = cola.d3adaptor()
    .linkDistance(120)
    .avoidOverlaps(true)
    .size([width, height]);
</code></pre>
    </div>
    <div id="right">
<pre><code>var force = d3.layout.force()
    .charge(-120)
    .linkDistance(30)
    .size([width, height]);
</code></pre>
        </div>
</div>
